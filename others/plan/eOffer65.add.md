### 剑指 Offer 65. 不用加减乘除做加法

#### 描述

写一个函数，求两个整数之和，要求在函数体内不得使用 “+”、“-”、“*”、“/” 四则运算符号。

来源：力扣（LeetCode）

链接：https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/

著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。

#### 示例

+ 示例 1:
```md
输入: a = 1, b = 1

输出: 2
```


#### 提示
```md
1. a, b 均可能是负数或 0

2. 结果不会溢出 32 位整数
```

### 解答

+ 解答 1
```js
/**
 * @param {number} a
 * @param {number} b
 * @return {number}
 */
var add = function(a, b) {
    return a + b;
};
```

+ 解答 2
```js
/**
 * @param {number} a
 * @param {number} b
 * @return {number}
 */
var add = function(a, b) {
    while(b !== 0) {
        [a, b] = [a ^ b, (a & b) << 1];
    }
    return a;
};
```

+ 解答 3
```js
/**
 * @param {number} a
 * @param {number} b
 * @return {number}
 */
var add = function(a, b) {
    if(b === 0) return a;
    return add(a ^ b, (a & b) << 1);
};
```

#### Thoughts

+ 1、简单题就要有简单题的做法，反手就是一个a+b

+ 2、认真来做的话，按题解来说，可以模拟十进制的做法，加法分为本位和进位；本位就是加完以后在原来位置上的值，进位就是加完以后进到更高位的值。对于二进制数来说，两个数相加，本位和进位的情况如下：

|加数|情况一|情况二|情况三|情况四|
|:-:|:-:|:-:|:-:|:-:|
|a|0|0|1|1|
|b|0|1|0|1|
|本位|0|1|1|0|
|进位|0|0|0|1|

由表格可知，本位的值等于a^b，进位的值等于a&b

在处理完本位的情况以后，还需要考虑进位的情况。就像十进制，每次加完得到的本位的值，需要和进位 * 10再进行相加，此时会循环执行这个过程，再次计算得到本位和进位，然后本位和进位 * 10再次相加……

二进制也是一样的，本位计算完毕，将进位 * 2，继续进行计算。于是可以循环这个过程，直到进位为0为止。

+ 3、根据解法2，可以得到一个递归的做法，若进位为0，则直接返回，否则就递归进行本位和进位的add操作。

ps：我感觉这道题还是有很强的技巧性的，需要对位运算有比较多的理解和思考，才能把这道题当成简单题去做。也许这道题的主要目的，是让做题的人充分理解当初CPU的加法设计是多么精妙吧，现在我们都理解啦~